<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Piana Document</title>
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.1/css/foundation.min.css"/>-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Compressed JavaScript -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.1/js/foundation.min.js"></script>-->
    <script type="text/javascript">
        var pianaMap = {};
        $(document).ready(function() {
            $.get("piana-doc/service-models", function(data, status) {
                console.log(JSON.stringify(data));

                url = "";
                $.each(data.entity, function(entityIndex, entityObject) {
                    $.each(entityObject.pathModel.paths, function (pathModelIndex, pathModelObject) {
                        if(pathModelObject.type === "PARAM")
                            url += "{" + pathModelObject.name + "}/";
                        else
                            url += pathModelObject.name + "/";
                    });
                    url = removeLastChar(url);
                    url += "?";
                    $.each(entityObject.queryParams, function(queryParamIndex, queryParamString) {
                       url += queryParamString + "=value&"
                    });
                    url = removeLastChar(url);
                    console.log(url);
                    pianaMap[url] = data.entity;
                });

                $.each( pianaMap, function(i, n){
                    alert( "Name: " + i + ", Value: " + n );
                });
            });
//            $(document).foundation();
        });

        function removeFirstChar(text) {
            return text.replace(/^.(\s+)?/, '');
        }

        function removeLastChar(text) {
            return text.replace(/(\s+)?.$/, '');
        }

        function callUrl(name) {
            console.log(name);
        }

    </script>
</head>
<body>
    <h1>Piana Document</h1>
    <div class="grid-x">
        <div id="description" class="large-12 medium-12 small-12 cell"></div>
    </div>
</body>
</html>